{"version":3,"sources":["Dashboard.js"],"names":["FileList","require","AddFiles","AddFilesPanel","PickerPanelContent","EditorPanel","PanelTopBar","FileCard","classNames","isDragDropSupported","h","PreactCSSTransitionGroup","TransitionWrapper","props","children","WIDTH_XL","WIDTH_LG","WIDTH_MD","HEIGHT_MD","module","exports","Dashboard","noFiles","totalFileCount","isSizeMD","containerWidth","dashboardClassName","isTargetDOMEl","animateOpenClose","isClosing","isDraggingOver","inline","containerHeight","showAddFilesPanel","areInsidesReadyToBeVisible","itemsPerRow","showFileList","showSelectedFiles","theme","acquirers","length","isHidden","i18n","handlePaste","handleDragOver","handleDragLeave","handleDrop","handleClickOutside","width","height","closeModal","fileCardFor","activePickerPanel","showFileEditor","progressindicators","map","target","getPlugin","id","render","state"],"mappings":"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","sourcesContent":["const FileList = require('./FileList')\nconst AddFiles = require('./AddFiles')\nconst AddFilesPanel = require('./AddFilesPanel')\nconst PickerPanelContent = require('./PickerPanelContent')\nconst EditorPanel = require('./EditorPanel')\nconst PanelTopBar = require('./PickerPanelTopBar')\nconst FileCard = require('./FileCard')\nconst classNames = require('classnames')\nconst isDragDropSupported = require('@uppy/utils/lib/isDragDropSupported')\nconst { h } = require('preact')\nconst PreactCSSTransitionGroup = require('preact-css-transition-group')\n\n// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nfunction TransitionWrapper (props) {\n  return (\n    <PreactCSSTransitionGroup\n      transitionName=\"uppy-transition-slideDownUp\"\n      transitionEnterTimeout={250}\n      transitionLeaveTimeout={250}\n    >\n      {props.children}\n    </PreactCSSTransitionGroup>\n  )\n}\n\nconst WIDTH_XL = 900\nconst WIDTH_LG = 700\nconst WIDTH_MD = 576\nconst HEIGHT_MD = 400\n\nmodule.exports = function Dashboard (props) {\n  const noFiles = props.totalFileCount === 0\n  const isSizeMD = props.containerWidth > WIDTH_MD\n\n  const dashboardClassName = classNames({\n    'uppy-Root': props.isTargetDOMEl,\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible\n  })\n\n  // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n  let itemsPerRow = 1 // mobile\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3\n  }\n\n  const showFileList = props.showSelectedFiles && !noFiles\n\n  return (\n    <div\n      class={dashboardClassName}\n      data-uppy-theme={props.theme}\n      data-uppy-num-acquirers={props.acquirers.length}\n      data-uppy-drag-drop-supported={isDragDropSupported()}\n      aria-hidden={props.inline ? 'false' : props.isHidden}\n      aria-label={!props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle')}\n      onpaste={props.handlePaste}\n      onDragOver={props.handleDragOver}\n      onDragLeave={props.handleDragLeave}\n      onDrop={props.handleDrop}\n    >\n      <div\n        class=\"uppy-Dashboard-overlay\"\n        tabindex={-1}\n        onclick={props.handleClickOutside}\n      />\n\n      <div\n        class=\"uppy-Dashboard-inner\"\n        aria-modal={!props.inline && 'true'}\n        role={!props.inline && 'dialog'}\n        style={{\n          width: props.inline && props.width ? props.width : '',\n          height: props.inline && props.height ? props.height : ''\n        }}\n      >\n\n        {!props.inline ? (\n          <button\n            class=\"uppy-u-reset uppy-Dashboard-close\"\n            type=\"button\"\n            aria-label={props.i18n('closeModal')}\n            title={props.i18n('closeModal')}\n            onclick={props.closeModal}\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        ) : null}\n\n        <div class=\"uppy-Dashboard-innerWrap\">\n          <div class=\"uppy-Dashboard-dropFilesHereHint\">\n            {props.i18n('dropHint')}\n          </div>\n\n          {showFileList && <PanelTopBar {...props} />}\n\n          {showFileList ? (\n            <FileList\n              {...props}\n              itemsPerRow={itemsPerRow}\n            />\n          ) : (\n            <AddFiles {...props} isSizeMD={isSizeMD} />\n          )}\n\n          <TransitionWrapper>\n            {props.showAddFilesPanel ? <AddFilesPanel key=\"AddFiles\" {...props} isSizeMD={isSizeMD} /> : null}\n          </TransitionWrapper>\n\n          <TransitionWrapper>\n            {props.fileCardFor ? <FileCard key=\"FileCard\" {...props} /> : null}\n          </TransitionWrapper>\n\n          <TransitionWrapper>\n            {props.activePickerPanel ? <PickerPanelContent key=\"Picker\" {...props} /> : null}\n          </TransitionWrapper>\n\n          <TransitionWrapper>\n            {props.showFileEditor ? <EditorPanel key=\"Editor\" {...props} /> : null}\n          </TransitionWrapper>\n\n          <div class=\"uppy-Dashboard-progressindicators\">\n            {props.progressindicators.map((target) => {\n              return props.getPlugin(target.id).render(props.state)\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]}